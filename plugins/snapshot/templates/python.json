{
  "name": "python",
  "description": "Python 專案範本",
  "detectFiles": ["requirements.txt", "pyproject.toml", "setup.py", "setup.cfg", "Pipfile"],
  "detectPatterns": {
    "django": ["django", "DJANGO_SETTINGS_MODULE"],
    "flask": ["flask", "Flask(__name__)"],
    "fastapi": ["fastapi", "FastAPI()"],
    "pytest": ["pytest"]
  },
  "structure": {
    "entry_point": {
      "patterns": ["main.py", "app.py", "__main__.py", "manage.py", "run.py", "wsgi.py"],
      "markers": ["if __name__ == \"__main__\"", "if __name__ == '__main__'"],
      "purpose": "應用程式入口"
    },
    "modules": {
      "models": {
        "patterns": ["**/models.py", "**/models/**/*.py", "**/*_model.py"],
        "markers": ["class.*Model", "class.*:", "from django.db import models"],
        "type": "model",
        "purpose": "資料模型"
      },
      "views": {
        "patterns": ["**/views.py", "**/views/**/*.py", "**/*_view.py"],
        "markers": ["def.*request", "@app.route", "@router"],
        "type": "view",
        "purpose": "視圖/控制器"
      },
      "routes": {
        "patterns": ["**/routes.py", "**/routes/**/*.py", "**/urls.py", "**/api/**/*.py"],
        "markers": ["@app.route", "@router", "urlpatterns"],
        "type": "route",
        "purpose": "路由定義"
      },
      "services": {
        "patterns": ["**/services.py", "**/services/**/*.py", "**/*_service.py"],
        "type": "service",
        "purpose": "業務邏輯服務"
      },
      "repositories": {
        "patterns": ["**/repositories.py", "**/repository/**/*.py", "**/*_repository.py"],
        "type": "repository",
        "purpose": "資料存取層"
      },
      "schemas": {
        "patterns": ["**/schemas.py", "**/schemas/**/*.py", "**/*_schema.py"],
        "markers": ["class.*Schema", "BaseModel"],
        "type": "schema",
        "purpose": "資料驗證結構"
      },
      "serializers": {
        "patterns": ["**/serializers.py", "**/serializers/**/*.py"],
        "markers": ["Serializer"],
        "type": "serializer",
        "purpose": "資料序列化"
      },
      "middlewares": {
        "patterns": ["**/middleware.py", "**/middlewares/**/*.py"],
        "type": "middleware",
        "purpose": "中介軟體"
      },
      "tasks": {
        "patterns": ["**/tasks.py", "**/tasks/**/*.py", "**/celery/**/*.py"],
        "markers": ["@celery.task", "@shared_task"],
        "type": "task",
        "purpose": "背景任務"
      },
      "utils": {
        "patterns": ["**/utils.py", "**/utils/**/*.py", "**/helpers.py", "**/helpers/**/*.py"],
        "type": "utility",
        "purpose": "工具函數"
      },
      "config": {
        "patterns": ["**/config.py", "**/settings.py", "**/settings/**/*.py", "**/conf.py"],
        "type": "config",
        "purpose": "設定模組"
      },
      "exceptions": {
        "patterns": ["**/exceptions.py", "**/errors.py"],
        "markers": ["class.*Exception", "class.*Error"],
        "type": "exception",
        "purpose": "自訂例外"
      }
    },
    "config_files": {
      "patterns": [
        "requirements.txt",
        "pyproject.toml",
        "setup.py",
        "setup.cfg",
        "Pipfile",
        "Pipfile.lock",
        "poetry.lock",
        ".env",
        ".env.example",
        "config.py",
        "settings.py",
        "pytest.ini",
        "tox.ini",
        "mypy.ini",
        ".flake8"
      ]
    },
    "test_files": {
      "patterns": ["**/tests/**/*.py", "**/test_*.py", "**/*_test.py", "**/conftest.py"],
      "exclude": true
    }
  },
  "commands": {
    "install": {
      "pip": "pip install -r requirements.txt",
      "poetry": "poetry install",
      "pipenv": "pipenv install"
    },
    "run": {
      "default": "python main.py",
      "django": "python manage.py runserver",
      "flask": "flask run",
      "fastapi": "uvicorn main:app --reload"
    },
    "test": {
      "pytest": "pytest",
      "unittest": "python -m unittest discover"
    },
    "lint": {
      "flake8": "flake8 .",
      "pylint": "pylint **/*.py",
      "mypy": "mypy ."
    }
  },
  "exclude": [
    "__pycache__/",
    "*.pyc",
    "*.pyo",
    ".pytest_cache/",
    ".mypy_cache/",
    ".tox/",
    "venv/",
    ".venv/",
    "env/",
    ".env/",
    "dist/",
    "build/",
    "*.egg-info/"
  ],
  "design_patterns": {
    "detect": {
      "singleton": ["_instance", "__new__"],
      "factory": ["Factory", "create_"],
      "strategy": ["Strategy"],
      "decorator": ["@", "functools.wraps"],
      "repository": ["Repository"]
    }
  }
}
