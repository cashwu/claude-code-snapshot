{
  "name": "javascript-nextjs",
  "description": "JavaScript/TypeScript Next.js 專案範本",
  "detectFiles": ["package.json", "next.config.js", "next.config.ts", "next.config.mjs"],
  "detectPatterns": {
    "nextjs": ["next", "\"next\""],
    "typescript": ["typescript", "tsconfig.json"],
    "tailwind": ["tailwindcss"],
    "prisma": ["@prisma/client"]
  },
  "structure": {
    "entry_point": {
      "patterns": [
        "app/layout.tsx",
        "app/layout.js",
        "pages/_app.tsx",
        "pages/_app.js",
        "src/app/layout.tsx",
        "src/pages/_app.tsx"
      ],
      "markers": ["export default", "RootLayout", "MyApp"],
      "purpose": "Next.js 應用程式入口"
    },
    "modules": {
      "pages": {
        "patterns": [
          "app/**/page.tsx",
          "app/**/page.js",
          "pages/**/*.tsx",
          "pages/**/*.js",
          "src/app/**/page.tsx",
          "src/pages/**/*.tsx"
        ],
        "markers": ["export default"],
        "type": "page",
        "purpose": "頁面元件",
        "exclude": ["_app", "_document", "api"]
      },
      "layouts": {
        "patterns": [
          "app/**/layout.tsx",
          "app/**/layout.js",
          "src/app/**/layout.tsx"
        ],
        "type": "layout",
        "purpose": "佈局元件"
      },
      "components": {
        "patterns": [
          "components/**/*.tsx",
          "components/**/*.jsx",
          "src/components/**/*.tsx",
          "app/components/**/*.tsx"
        ],
        "type": "component",
        "purpose": "可重用 UI 元件"
      },
      "api_routes": {
        "patterns": [
          "app/api/**/route.ts",
          "app/api/**/route.js",
          "pages/api/**/*.ts",
          "pages/api/**/*.js",
          "src/app/api/**/route.ts"
        ],
        "markers": ["GET", "POST", "PUT", "DELETE", "export async function"],
        "type": "api",
        "purpose": "API 路由"
      },
      "server_actions": {
        "patterns": [
          "app/**/actions.ts",
          "app/**/actions.js",
          "src/app/**/actions.ts",
          "actions/**/*.ts"
        ],
        "markers": ["\"use server\"", "'use server'"],
        "type": "server_action",
        "purpose": "Server Actions"
      },
      "hooks": {
        "patterns": [
          "hooks/**/*.ts",
          "hooks/**/*.tsx",
          "src/hooks/**/*.ts",
          "**/use*.ts",
          "**/use*.tsx"
        ],
        "markers": ["export function use", "export const use"],
        "type": "hook",
        "purpose": "自訂 React Hooks"
      },
      "lib": {
        "patterns": [
          "lib/**/*.ts",
          "lib/**/*.js",
          "src/lib/**/*.ts",
          "utils/**/*.ts"
        ],
        "type": "library",
        "purpose": "共用函式庫"
      },
      "contexts": {
        "patterns": [
          "contexts/**/*.tsx",
          "context/**/*.tsx",
          "src/contexts/**/*.tsx",
          "**/*Context.tsx",
          "**/*Provider.tsx"
        ],
        "markers": ["createContext", "useContext", "Provider"],
        "type": "context",
        "purpose": "React Context 提供者"
      },
      "stores": {
        "patterns": [
          "stores/**/*.ts",
          "store/**/*.ts",
          "src/stores/**/*.ts",
          "**/*Store.ts",
          "**/*Slice.ts"
        ],
        "markers": ["create", "useStore", "createSlice"],
        "type": "store",
        "purpose": "狀態管理 (Zustand/Redux)"
      },
      "types": {
        "patterns": [
          "types/**/*.ts",
          "src/types/**/*.ts",
          "**/*.d.ts"
        ],
        "markers": ["interface", "type", "export type"],
        "type": "types",
        "purpose": "TypeScript 型別定義"
      },
      "services": {
        "patterns": [
          "services/**/*.ts",
          "src/services/**/*.ts",
          "**/*Service.ts"
        ],
        "type": "service",
        "purpose": "外部服務整合"
      },
      "prisma": {
        "patterns": [
          "prisma/schema.prisma",
          "lib/prisma.ts",
          "src/lib/prisma.ts"
        ],
        "type": "database",
        "purpose": "Prisma 資料庫設定"
      },
      "middleware": {
        "patterns": [
          "middleware.ts",
          "middleware.js",
          "src/middleware.ts"
        ],
        "type": "middleware",
        "purpose": "Next.js Middleware"
      }
    },
    "config_files": {
      "patterns": [
        "package.json",
        "next.config.js",
        "next.config.ts",
        "next.config.mjs",
        "tsconfig.json",
        "tailwind.config.js",
        "tailwind.config.ts",
        "postcss.config.js",
        ".env",
        ".env.local",
        ".env.development",
        ".env.production",
        "prisma/schema.prisma",
        ".eslintrc.json",
        ".prettierrc"
      ]
    },
    "test_files": {
      "patterns": [
        "**/*.test.ts",
        "**/*.test.tsx",
        "**/*.spec.ts",
        "**/*.spec.tsx",
        "__tests__/**/*"
      ],
      "exclude": true
    }
  },
  "commands": {
    "install": "npm install",
    "dev": "npm run dev",
    "build": "npm run build",
    "start": "npm run start",
    "lint": "npm run lint",
    "test": "npm run test"
  },
  "exclude": [
    "node_modules/",
    ".next/",
    "out/",
    "dist/",
    ".vercel/",
    "coverage/",
    "*.log"
  ],
  "design_patterns": {
    "detect": {
      "component": ["export default function", "export const.*=.*=>"],
      "custom_hook": ["export function use", "export const use"],
      "context": ["createContext", "Provider"],
      "server_component": ["async function.*Page", "async function.*Layout"],
      "client_component": ["\"use client\"", "'use client'"]
    }
  }
}
