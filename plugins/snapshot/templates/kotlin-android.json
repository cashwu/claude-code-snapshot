{
  "name": "kotlin-android",
  "description": "Kotlin Android 專案範本",
  "detectFiles": ["build.gradle.kts", "app/build.gradle.kts", "AndroidManifest.xml", "app/src/main/AndroidManifest.xml"],
  "detectPatterns": {
    "android": ["com.android.application", "android {"],
    "compose": ["@Composable", "androidx.compose"]
  },
  "structure": {
    "entry_point": {
      "patterns": ["**/MainActivity.kt", "**/*Application.kt"],
      "markers": ["class MainActivity", "class.*Application.*Application()"],
      "purpose": "Android 應用程式入口"
    },
    "modules": {
      "activities": {
        "patterns": ["**/*Activity.kt"],
        "markers": [": AppCompatActivity()", ": ComponentActivity()"],
        "type": "activity",
        "purpose": "Android Activity"
      },
      "fragments": {
        "patterns": ["**/*Fragment.kt"],
        "markers": [": Fragment()"],
        "type": "fragment",
        "purpose": "Android Fragment"
      },
      "viewmodels": {
        "patterns": ["**/viewmodel/**/*.kt", "**/*ViewModel.kt"],
        "markers": [": ViewModel()", ": AndroidViewModel("],
        "type": "viewmodel",
        "purpose": "MVVM ViewModel"
      },
      "repositories": {
        "patterns": ["**/repository/**/*.kt", "**/*Repository.kt", "**/*RepositoryImpl.kt"],
        "type": "repository",
        "purpose": "資料存取層"
      },
      "usecases": {
        "patterns": ["**/usecase/**/*.kt", "**/domain/**/*.kt", "**/*UseCase.kt"],
        "type": "usecase",
        "purpose": "業務邏輯用例"
      },
      "data": {
        "patterns": ["**/data/**/*.kt", "**/model/**/*.kt", "**/entity/**/*.kt"],
        "markers": ["data class", "@Entity"],
        "type": "data",
        "purpose": "資料模型"
      },
      "di": {
        "patterns": ["**/di/**/*.kt", "**/*Module.kt"],
        "markers": ["@Module", "@Provides", "@Inject"],
        "type": "di",
        "purpose": "依賴注入模組 (Hilt/Dagger)"
      },
      "composables": {
        "patterns": ["**/ui/**/*.kt", "**/compose/**/*.kt", "**/screen/**/*.kt"],
        "markers": ["@Composable"],
        "type": "composable",
        "purpose": "Jetpack Compose UI 元件"
      },
      "adapters": {
        "patterns": ["**/*Adapter.kt"],
        "markers": ["RecyclerView.Adapter"],
        "type": "adapter",
        "purpose": "RecyclerView Adapter"
      },
      "services": {
        "patterns": ["**/*Service.kt"],
        "markers": [": Service()"],
        "type": "service",
        "purpose": "Android Service"
      },
      "receivers": {
        "patterns": ["**/*Receiver.kt"],
        "markers": [": BroadcastReceiver()"],
        "type": "receiver",
        "purpose": "Broadcast Receiver"
      },
      "network": {
        "patterns": ["**/network/**/*.kt", "**/api/**/*.kt", "**/*Api.kt"],
        "markers": ["@GET", "@POST", "interface.*Api"],
        "type": "network",
        "purpose": "網路 API 定義 (Retrofit)"
      },
      "database": {
        "patterns": ["**/database/**/*.kt", "**/*Database.kt", "**/*Dao.kt"],
        "markers": ["@Database", "@Dao", "RoomDatabase"],
        "type": "database",
        "purpose": "Room 資料庫"
      },
      "utils": {
        "patterns": ["**/util/**/*.kt", "**/utils/**/*.kt", "**/extension/**/*.kt"],
        "type": "utility",
        "purpose": "工具類別與擴展函數"
      }
    },
    "config_files": {
      "patterns": [
        "build.gradle.kts",
        "app/build.gradle.kts",
        "settings.gradle.kts",
        "gradle.properties",
        "local.properties",
        "AndroidManifest.xml",
        "app/src/main/AndroidManifest.xml",
        "proguard-rules.pro"
      ]
    },
    "resources": {
      "patterns": [
        "app/src/main/res/**/*"
      ],
      "types": {
        "layouts": "res/layout/**/*.xml",
        "drawables": "res/drawable/**/*",
        "values": "res/values/**/*.xml",
        "navigation": "res/navigation/**/*.xml"
      }
    },
    "test_files": {
      "patterns": ["**/test/**/*.kt", "**/androidTest/**/*.kt", "**/*Test.kt"],
      "exclude": true
    }
  },
  "commands": {
    "build": "./gradlew assembleDebug",
    "run": "./gradlew installDebug",
    "test": "./gradlew test",
    "lint": "./gradlew lint"
  },
  "exclude": [
    "build/",
    ".gradle/",
    ".idea/",
    "*.apk",
    "*.aab",
    "local.properties"
  ],
  "design_patterns": {
    "detect": {
      "mvvm": ["ViewModel", "LiveData", "StateFlow"],
      "repository": ["Repository"],
      "dependency_injection": ["@Inject", "@Module", "@Provides"],
      "observer": ["LiveData", "StateFlow", "Flow"],
      "factory": ["Factory"]
    }
  }
}
